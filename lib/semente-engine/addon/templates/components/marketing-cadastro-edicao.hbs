<button class="btn btn--link color-blue-navy-60" {{action "voltar"}}>
    <span class="btn__icon icon-chevron-left"></span>
    <span class="btn__label">Voltar</span>
</button>

<h1 class="title-1">{{if editando 'Edição de item de Marketing' 'Cadastro de item de Marketing'}}</h1>

<div class="row">
    <div class="col-xs-12 col-md-6">

        <div class="flow-xxl">

            <div class="flex flex-col flow-md">
                <h2 class="title-3">Informações</h2>

                <div class="form-group">
                    <label class="form-group__label">Nome do item</label>
                    {{input class="form-group__input" name='' value=model.titulo placeholder='Nome do item'}}
                </div>

                <div class="form-group">
                    <label class="form-group__label">Descrição</label>
                    {{textarea class="form-group__input" value=model.descricao placeholder='Descrição do item' rows="5"}}
                </div>

                <div class="form-group">
                    <label class="form-group__label">Áreas</label>
                    <div class="form-group__wrapper form-group__wrapper--select">
                        <select class="form-group__input form-group__input--select" name="area" id="area{{model.id}}" onchange={{action 'refreshSelectedArea' value='target.value'}}>
                            <option value="" selected="selected">---</option>
                            {{#each areas as |area|}}
                                <option value="{{area.id}}" selected={{if (equalstr area.id model.area.id) "selected"}}>{{area.name}}</option>
                            {{/each}}
                        </select>
                    </div>
                </div>

            </div>

            {{#if capa}}
                <div class="flex flex-col flow-md">
                    <h2 class="title-3">Capa</h2>
                    {{model.capaName}}
                    <img src="{{model.capa}}" alt="{{model.capaName}}" width="50%">
                    <button type="button" class="btn" {{action "removePathCapa"}}>Remover</button>
                </div>
            {{/if}}

            <div class="flex flex-col flow-md">
                <h2 class="title-3">Arquivos</h2>
                    
                {{#if model.arquivos}}
                    <h1>Arquivo adicionado:</h1>

                    <ul class="list list--striped">

                        {{#each model.arquivos as |arquivoItem|}}
                            <li>
                                <div class="flex flex-row items-center justify-between gap-sm">

                                    <div class="flow-xxs flex flex-col">
                                        <span class="title-3 tt-u">{{arquivoItem.tipo}}</span>
                                        <span class="color-leaf-50">{{arquivoItem.name}}</span>
                                    </div>
                                    {{#if (containerUrl arquivoItem.url)}}
                                        {{!-- <span class="avatar avatar--lg avatar--bordered avatar--is-square"> --}}
                                        <a class="btn btn--link color-success-40" href={{arquivoItem.url}} target="_blank"> {{!-- rel="nofollow noopener noreferrer"> --}}
                                            <span class="btn__label">Abrir arquivo</span>
                                        </a>
                                        {{!-- </span> --}}
                                    {{/if}}
                                    <button class="btn btn--text color-error-40" type="button" {{action "removeArquivo" arquivoItem}}>
                                        <span class="btn__label">Remover</span>
                                    </button>

                                </div>
                            </li>
                        {{/each}}
                    </ul>
                {{/if}}

                <label id="message-processing" class="form-group__label"></label>
                <label class="btn btn--add-list-item">
                    <input style="display: none;" multiple="true" id="file-selector" name='file' type="file" value='' placeholder='Adicionar Arquivo' onchange={{action 'Upload'}} />
                    <span class="btn__icon icon-plus"></span>
                    <span class="btn__label">Adicionar Arquivo</span>
                </label>
            </div>

            {{#if (not model.capa)}}
                <div class="flex flex-col flow-md">
                    <h2 class="title-3">Capa</h2>
                    <label class="form-group__label">Adicione uma capa para identificação do item de marketing.</label>
                    <label id="message-processing-capa" class="form-group__label"></label>
                    <label class="btn btn--add-list-item">
                        <input style="display: none;" multiple="false" id="file-selector-capa" name='file' type="file" value='' placeholder='Adicionar Capa' onchange={{action 'UploadCapa'}} accept="image/png,image/jpeg" />
                        <span class="btn__icon icon-plus"></span>
                        <span class="btn__label">Adicionar Capa</span>
                    </label> 
                </div>
            {{/if}}

            <button type="button" class="btn" {{action "saveItem" model}}>{{salvarbutton}}{{percentage}}</button>

        </div>


    </div>
</div>

