{{header-geral  parentController = this.aulasController
                pessoa=pessoaLogged
                thisRoute=thisRoute}}

<div class="institutions flow-md">


  <!-- administration view -->
  {{#unless instView}}
      <header class="main__header main__header--has-side-info">

        <h1 class="main__title animated fadeInLeftShort faster">Administração</h1>

        {{#if (equalstr role 'admin')}}
          <button class="btn btn--xxs animated fadeInLeftShort faster d250"
                  {{action 'newInst' on="click" }}>
            <span class="btn__icon icon-plus"></span>
            <span class="btn__label">Nova Instituição</span>
          </button>
          <button class="btn btn--xxs animated fadeInLeftShort faster d250" {{action 'cadastroCodigo'}}>
            {{!-- <span class="btn__icon icon-users"></span> --}}
            <span class="btn__label">Cadastro codigo</span>
          </button>
        {{/if}}


        
        


        {{!-- {{#if (equalstr role 'admin')}}
          <label class="btn btn--xxs animated fadeInLeftShort faster d250" for="get_lote">Cadastro Código</label>
          <input id="get_lote" multiple="false" onchange={{action "buscarArquivo"}} accept="text/csv" type="file"
            style="display: none;" />

          <div id="error_lote">
            {{error_lote}}
          </div>
                      
        {{/if}} --}}
      </header>

      <section class="sections__section animated fadeInLeftShort faster d500">
        <form class="main__search" autocomplete="off" aria-autocomplete="none">
          <div class="form-group form-group--full-width">
            <label class="form-group__label" for="search">Busca</label>
            <div class="form-group__wrapper form-group__wrapper--search">
              {{input class="form-group__input"
              aria-describedby="basic-addon1"
              autocomplete="off"
              aria-autocomplete="none"
              id="matchValue"
              key-up="filterInst"
              type="text"}}
            </div>
          </div>
        </form>
      </section>

      <!-- gestor institution param -->
      <div style="display:none">{{oneInst}}</div>

      <!-- admin filtered institutions -->
      <ul id="matchDisplay" class="list list--striped animated fadeInLeftShort faster d750" style="display:none;">
        {{#each matchInsts as |inst|}}
        <li class="l-devil-albatross">
          {{!-- <span class="list__img" style="background-image: url('/assets/img/institution.png')"></span> --}}
          <a class="title-3 btn btn--link color-blue-navy-60" {{action 'selectInst' inst.id on="click" }}>
            <span class="btn__label">{{inst.name}}</span>
          </a>
          <span class="switch switch--institutions flex-none m-left--auto m-right--auto">
            <input  class="switch__checkbox"
                    id="activeInstId{{inst.id}}"
                    type="checkbox"
                    {{action 'enableInst' inst.id on='change' }}
                    checked={{inst.enabled}}>
            <label class="switch__label" for="activeInstId{{inst.id}}">
              <span class="switch__inner"></span>
              <span class="switch__head"></span>
            </label>
          </span>
        </li>
        {{/each}}
      </ul>

      <!-- admin institutions list -->
      <ul id="modelInstList" class="list list--striped animated fadeInLeftShort faster d750">
        {{#each model.instituicoes as |inst|}}
        <li class="l-devil-albatross">
          {{!-- <span class="list__img" style="background-image: url('/assets/img/institution.png')"></span> --}}
          <a class="title-3 btn btn--link color-blue-navy-60" {{action 'selectInst' inst.id on="click" }}>
            <span class="btn__label">{{inst.name}}</span></a>
          <span class=" switch switch--institutions flex-none m-left--auto m-right--auto">
            <input  class="switch__checkbox"
                    id="activeInstId{{inst.id}}"
                    type="checkbox"
                    {{action 'enableInst' inst.id on='change' }}
                    checked={{inst.enabled}}>
            <label class="switch__label" for="activeInstId{{inst.id}}">
              <span class="switch__inner"></span>
              <span class="switch__head"></span>
            </label>
          </span>
        </li>
        {{/each}}
      </ul>
  {{/unless}}


  <!-- institution selected -->
  {{#if instView}}
    <header class="main__header">
      <!-- back to institutions list -->
      <!-- Só aparece se for admin -->
      {{#if (equalstr role 'admin')}}
        <!-- Só aparece após ter o nome da instituição -->
        {{#if inst_selected.name}}
          <button class="main__back btn btn--link color-blue-navy-60 {{if inst_selected.name 'animated fadeInLeftShort faster'}}" id="back-person-specific_old" {{action 'backToInstList' on="click" }} type="button">
            <span class="icon-arrow-left"></span>
            <span class="btn__label">voltar</span>
          </button>
        {{/if}}
      {{/if}}
      <!-- / back to institutions list -->

      <div class="flex flex-row m-top--md">
        <!-- institutions selected name -->
        {{#if inst_selected.name}}
          <h1 class="main__title animated fadeInLeftShort faster d250">{{inst_selected.name}}</h1>
        {{else}}
          <h1 class="main__title" style="color: transparent">|</h1>
        {{/if}}
      </div>

    </header>

    {{#if inst_selected.name}}
      <section class="sections__section flow-xl">

        <!--
        ######################################
        TABS
        ######################################
        -->
        <div class="tabs animated fadeInLeftShort faster d500">
          {{#if (equalstr pessoaLogged.role "admin")}}
          <button class="report__tab tabs__tab {{if selectedInstTabs.informations 'tabs__tab--is-active'}}"
                  {{action 'tabNavigation' 'informations' on="click" }}>
            <span>Informações</span>
          </button>
          <button class="report__tab tabs__tab {{if selectedInstTabs.courses 'tabs__tab--is-active'}}"
                  {{action 'tabNavigation' 'courses' on="click" }}>
            <span>Anos</span>
          </button>
          {{/if}}
          <button class="report__tab tabs__tab {{if selectedInstTabs.areas 'tabs__tab--is-active'}}"
                  {{action 'tabNavigation' 'areas' on="click" }}>
            <span>Turmas</span>
          </button>
          <button class="report__tab tabs__tab {{if selectedInstTabs.users 'tabs__tab--is-active'}}"
                  {{action 'tabNavigation' 'users' on="click" }}>
            <span>Usuários</span>
          </button>

          <button class="report__tab tabs__tab {{if selectedInstTabs.codes 'tabs__tab--is-active'}}"
                  {{action 'tabNavigation' 'codes' on="click" }}>
            <span>Códigos</span>
          </button>

          
          
          
          
          
          {{#if selectedInstTabs.areas}}
            <button class="j-areaFocus tabs__not-tab btn btn--ghost btn--xxs m-left--auto m-right--md"
                    {{action 'newArea'}}>
              <span class="btn__label">Nova Turma</span>
            </button>
          {{/if}}

        
        </div>










        <!--
        ######################################
        Informações
        ######################################
        -->
        <!-- selected institution tab information -->
        {{#if selectedInstTabs.informations}}

          {{#if (equalstr role 'admin')}}
            <div class="flex flex-row items-center justify-start" style="display:none" id="btn_save_inst">
              <button class="btn btn--ghost btn--xxs m-left--md"
                      {{action 'saveInformations' inst_selected.id}}>
                <span class="btn__icon icon-save"></span>
                <span class="btn__label">Salvar alterações</span>
              </button>
            </div>
          {{/if}}

          <section class="sections__subsection flow-md animated fadeInLeftShort faster d750">
            <h3 class="main__subsubtitle">Básicas</h3>
            <div class="form-group form-group--full-width flex flex-row flex-wrap gap-sm flow-h-sm">
              <div class="form-group">
                <label class="form-group__label">Nome</label>
                {{#if (equalstr role 'admin')}}
                <input class="form-group__input" type="textbox" id="inst_name" value={{inst_selected.name}}
                  onkeyup={{action 'dataChange' 'btn_save_inst' }}>
                {{else}}
                <input class="form-group__input" type="textbox" id="inst_name" value={{inst_selected.name}} disabled="true">
                {{!-- {{inst_selected.name}} --}}
                {{/if}}
              </div>
              <div class="form-group">
                <label class="form-group__label">UF</label>
                {{#if (equalstr role 'admin')}}
                <input class="form-group__input" type="textbox" id="inst_uf" value={{inst_selected.uf}}
                  onkeyup={{action 'dataChange' 'btn_save_inst' }}>
                {{!-- {{input value=inst_selected.uf}} --}}
                {{else}}
                <input class="form-group__input" type="textbox" id="inst_uf" value={{inst_selected.uf}} disabled="true">
                {{/if}}
              </div>

              <div class="form-group">
                <label class="form-group__label">Cidade</label>
                {{#if (equalstr role 'admin')}}
                <input class="form-group__input" type="textbox" id="inst_cidade" value={{inst_selected.cidade}}
                  onkeyup={{action 'dataChange' 'btn_save_inst' }}>
                {{else}}
                <input class="form-group__input" type="textbox" id="inst_cidade" value={{inst_selected.cidade}}
                  disabled="true">
                {{/if}}
              </div>

              <div class="form-group">
                <label class="form-group__label">Status</label>
                <span class="switch switch--institutions">
                  <input class="switch__checkbox" id="inst_hab" type="checkbox" checked={{inst_selected.enabled}}
                    disabled={{if (equalstr role 'admin' ) false true}} onchange={{action 'dataChange' 'btn_save_inst' }}>
                  <label class="switch__label" for="inst_hab">
                    <span class="switch__inner"></span>
                    <span class="switch__head"></span>
                  </label>
                </span>
              </div>
            </div>
          </section>

          <section class="sections__subsection flow-md animated fadeInLeftShort faster d1000">
            <h3 class="main__subsubtitle">Número de usuários</h3>
            <div class="flex flex-row flex-wrap gap-sm flow-h-sm">
              <div class="form-group">
                <label class="form-group__label">Gestores</label>
                {{#if (equalstr role 'admin')}}
                <input class="form-group__input" type="textbox" id="nr_gestores" value={{inst_selected.nrgestores}}
                  onkeyup={{action 'dataChange' 'btn_save_inst' }}>
                {{else}}
                <input class="form-group__input" type="textbox" id="nr_gestores" value={{inst_selected.nrgestores}}
                  disabled="true">
                {{/if}}
              </div>
              <div class="form-group">
                <label class="form-group__label">Coordenadores</label>
                {{#if (equalstr role 'admin')}}
                <input class="form-group__input" type="textbox" id="nr_coordenadores" value={{inst_selected.nrcoordenadores}}
                  onkeyup={{action 'dataChange' 'btn_save_inst' }}>
                {{else}}
                {{inst_selected.nrcoordenadores}}
                {{/if}}
              </div>
              <div class="form-group">
                <label class="form-group__label">Professores</label>
                {{#if (equalstr role 'admin')}}
                <input class="form-group__input" type="textbox" id="nr_instrutores" value={{inst_selected.nrinstrutores}}
                  onkeyup={{action 'dataChange' 'btn_save_inst' }}>
                {{else}}
                {{inst_selected.nrinstrutores}}
                {{/if}}
              </div>
              <div class="form-group">
                <label class="form-group__label">Alunos</label>
                {{#if (equalstr role 'admin')}}
                <input class="form-group__input" type="textbox" id="nr_alunos" value={{inst_selected.nralunos}}
                  onkeyup={{action 'dataChange' 'btn_save_inst' }}>
                {{else}}
                <input class="form-group__input" type="textbox" id="nr_alunos" value={{inst_selected.nralunos}}
                  disabled="true">
                {{/if}}
              </div>
              <!-- /selected institution tab information -->

              <!-- selected institutiton tab courses -->
              {{#if selectedInstTabs.courses}}
                <div class="flex flex-row items-center justify-start">
                  <h2 class="main__subtitle">Anos</h2>
                  <button class="btn btn--ghost m-left--md"
                          style="display:none"
                          id="btn_save_courses"
                          {{action 'saveCourses' inst_selected.id}}>
                    <span class="btn__icon icon-save"></span>
                    <span class="btn__label">Salvar alterações</span>
                  </button>
                </div>
                <section class="sections__subsection">
                  <ul class="list list--img-name-action list--striped">
                    {{#each modulos_list as |mod|}}
                    <li>
                      {{!-- <span class="list__img"
                        style="background-image: url('{{if mod.coverImage mod.coverImage '/assets/img/online-course.png'}}')"></span>
                      --}}
                      <h3 class="list__name title-3">{{mod.name}}</h3>
                      <span class="switch switch--institutions">
                        <!-- temporary save controll -->
                        <input id="isCkb{{mod.id}}" type="checkbox" checked={{isinarray mod inst_selected.modulos}}
                          style="display:none">
                        <!-- -->
                        <input class="switch__checkbox" id="ckb_{{mod.id}}" type="checkbox" checked={{isinarray mod
                          inst_selected.modulos}} disabled={{if (equalstr role 'admin' ) false true}}
                          onchange={{action 'dataChange' 'btn_save_courses' mod.id}}>
                        <label class="switch__label" for="ckb_{{mod.id}}">
                          <span class="switch__inner"></span>
                          <span class="switch__head"></span>
                        </label>
                      </span>
                    </li>
                    {{/each}}
                  </ul>
                </section>
              {{/if}}
              <!-- /selected institutiton tab courses -->

              <!-- selected institutions tab areas -->
              {{#if selectedInstTabs.areas}}
                <div class="flex flex-row items-center justify-start">
                  <h2 class="main__subtitle">Turmas</h2>




                  <button class="j-areaFocus btn btn--ghost btn--xs m-left--md" {{action 'newArea' }}>
                    {{!-- <span class="btn__icon icon-plus"></span> --}}
                    <span class="btn__label">Nova Turmabbbbbbbb</span>
                  </button>





                </div>
                <section class="sections__subsection">
                  <ul class="institutions__areas list list--striped">
                    <!--  style="display:none" -->
                    <li id="newArea">
                      <label class="form-group__label sr-only" for="newAreaName">Nome da nova área</label>
                      <div class="edit-text">
                        <input class="edit-text__input form-group__input content-editable" type="textbox" id="newAreaName">
                        <span class="edit-text__indicator"></span>
                      </div>
                      <div class="flow-h-sm m-left--lg">
                        <button class="btn btn--xs btn--text" type="submit" {{action 'cancelAreaAction' 'new' }}>
                          {{!-- <span class="btn__icon icon-x"></span> --}}
                          <span class="btn__label">Cancelar</span>
                        </button>
                        <button class="btn btn--xs" type="submit" {{action 'addArea' }} style="width: 90px;">
                          {{!-- <span class="btn__icon icon-check"></span> --}}
                          <span class="btn__label">Salvar</span>
                        </button>
                      </div>
                    </li>
                    {{#each inst_selected.turmas as |turma idx|}}
                      <li class="accordion">
                        <div class="institutions__area">
                          <div class="edit-text">
                            <input class="edit-text__input title-3"
                                   id="areaItemName{{turma.id}}"
                                   value="{{turma.name}}" disabled>
                            <span class="edit-text__indicator"></span>
                          </div>
                        </div>
                        <div class="flow-h-sm" id="areaItemOptions{{turma.id}}">
                         
                          {{#if (equalstr pessoaLogged.role "admin")}}
                          <button class="btn btn--text btn--xxs color-error" {{action 'deleteArea' turma.id}}>
                            {{!-- <span class="btn__icon icon-trash-2"></span> --}}
                            <span class="btn__label">Remover</span>
                          </button>
                          {{/if}}
                          <button class="btn btn--ghost btn--xxs" style="width: 90px;" {{action 'editArea' turma.id}}>
                            {{!-- <span class="btn__icon icon-edit"></span> --}}
                            <span class="btn__label">Editar</span>
                          </button>
                        </div>
                        <div class="flow-h-sm" id="areaItemActions{{turma.id}}" style="display:none">
                          <button class="btn btn--text btn--xxs" type="submit" {{action 'cancelAreaAction' turma.id}}>
                            {{!-- <span class="btn__icon icon-x"></span> --}}
                            <span class="btn__label">Cancelar</span>
                          </button>
                          <button class="btn btn--xxs" style="width: 90px;" type="submit" {{action 'saveArea' turma.id}}>
                            {{!-- <span class="btn__icon icon-check"></span> --}}
                            <span class="btn__label">Salvar</span>
                          </button>
                        </div>
                      </li>
                    {{/each}}
                  </ul>
                </section>
              {{/if}}


            </div>
          </section>

          <section class="sections__subsection flow-md animated fadeInLeftShort faster d1250">
            <h3 class="main__subsubtitle">Códigos</h3>
            <div class="flex flex-row flex-wrap gap-sm flow-h-sm">
              <div class="form-group">
                <label class="form-group__label">Professores</label>
                {{#if (equalstr role 'admin')}}
                <input class="form-group__input" type="textbox" id="cd_professores" value={{inst_selected.codigoProfessores}}
                  onkeyup={{action 'dataChange' 'btn_save_inst' }}>
                {{else}}
                  {{inst_selected.codigoProfessores}}
                {{/if}}
              </div>
              <div class="form-group">
                <label class="form-group__label">Alunos</label>
                {{#if (equalstr role 'admin')}}
                <input class="form-group__input" type="textbox" id="cd_alunos" value={{inst_selected.codigoAlunos}}
                  onkeyup={{action 'dataChange' 'btn_save_inst' }}>
                {{else}}
                  {{inst_selected.codigoAlunos}}
                {{/if}}
              </div>
              <div class="form-group">
                <label class="form-group__label">Responsáveis</label>
                {{#if (equalstr role 'admin')}}
                <input class="form-group__input" type="textbox" id="cd_responsaveis" value={{inst_selected.codigoAlunosInfantil}}
                  onkeyup={{action 'dataChange' 'btn_save_inst' }}>
                {{else}}
                  {{inst_selected.codigoAlunosInfantil}}
                {{/if}}
              </div>
            </div>
          </section>

          <section class="sections__subsection flow-md animated fadeInLeftShort faster d1250">
            <h3 class="main__subsubtitle">Sistemas</h3>
            <ul class="flex flex-col flow-sm">
              <li class="checkbox">
                <input class="checkbox__input" id="sis_1" type="checkbox" onchange={{action 'dataChange' 'btn_save_inst' }}
                  checked={{temMedio}} disabled={{if (equalstr role 'admin' ) false true}}>
                <label class="checkbox__label" for="sis_1">Programa Semente</label>
              </li>
              <li class="checkbox">
                <input class="checkbox__input" id="sis_2" type="checkbox" onchange={{action 'dataChange' 'btn_save_inst' }}
                  checked={{temS}} disabled={{if (equalstr role 'admin' ) false true}}>
                <label class="checkbox__label" for="sis_2">Plataforma S</label>
              </li>
              <li class="checkbox">
                <input class="checkbox__input" id="sis_3" type="checkbox" onchange={{action 'dataChange' 'btn_save_inst' }}
                  checked={{temCoreSkills}} disabled={{if (equalstr role 'admin' ) false true}}>
                <label class="checkbox__label" for="sis_3">CoreSkills</label>
              </li>
            </ul>
          </section>
        {{/if}}
        <!-- /selected institution tab information -->







        <!--
        ######################################
        Anos
        ######################################
        Precisamos programar essa parte!!!!!!!!!!!!!!!!!!
        -->
        <!-- selected institutiton tab courses -->
        {{#if selectedInstTabs.courses}}
          <section class="sections__subsection">
            <div class="row">

                  {{#each segmentos as |seg| }}

                  <div class="col-xs-12 col-lg-3 flow-sm">
                      <h5 class="title-aux">{{seg.titulo}}</h5>

                      {{#each seg.plataformaAnos as |platAno|}}
                          <ul>
                              <li>
                                  <div class="checkbox">
                                      <input class="j-validate-aplicador-child checkbox__input"
                                        checked={{if (isinarray platAno inst_selected.plataformaAnos) "checked" ''}}
                                        id="plat_ano{{platAno.id}}"
                                        onchange={{action (action "selectAno" platAno) value='target.checked'}}
                                        type="checkbox">
                                    <label class="checkbox__label" for="plat_ano{{platAno.id}}">{{platAno.name}}</label>
                                </div>
                            </li>
                        </ul>
                    {{/each}}

                </div>

                {{/each}}

            </div>
          </section>
          {{#if (equalstr role 'admin')}}
            <footer class="modal__footer">
              <button class="btn" type="submit" {{action 'saveCourses'}}>Editar</button>
            </footer>
          {{/if}}
        {{/if}}
        <!-- ###########
        Fim de precisamos programar essa parte
        ########### -->
        <!-- /selected institutiton tab courses -->










        <!--
        ######################################
        Turmas
        ######################################
        Mínimo deve colocar conteúdo novo para essa área!!!!!!!!!!!!!!!!!!
        -->
        <!-- selected institutions tab areas -->
        {{#if selectedInstTabs.areas}}
          <section class="animated d1250 fadeInLeftShort sections__subsection flow-md">
            <ul class="institutions__areas list list--striped">
              <!--  style="display:none;" -->
              <li class="{{if creatingNewArea 'animated fadeInLeftShort faster bg-info-10' 'd--none'}}
                         {{if savingNewArea 'loader-local loader-local--is-show'}} " id="newArea">
                <div class="form-group m-right--md">
                  <div class="form-group__wrapper form-group__wrapper--select">
                    <select class="form-group__input form-group__input--select j-areaFocus" 
                      id="define_year"
                      onchange={{action 'refreshAno' value='target.value'}} 
                      data-type="select"
                      data-required="true">
                      <option value="0" selected>Selecionar ano</option>
                      {{#each inst_selected.plataformaAnos as |ano|}}
                        <option style="display: block" value="{{ano.id}}"
                          selected={{if (equalstr ano selectedAno) "selected"}}>
                        {{ano.name}}</option>
                      {{/each}}
                    </select>
                  </div>
                </div>
                <div class="flex-1 m-right--lg">
                  <div class="edit-text">
                    <input  class="j-areaFocus edit-text__input form-group__input title-3 bg-white p-h--xs"
                            id="newAreaName"
                            type="textbox"
                            value="{{turma.name}}">
                    <span class="edit-text__indicator"></span>
                  </div>
                </div>
                <div class="flow-h-sm m-left--lg">
                  <button class="j-areaFocus btn btn--xxs btn--text" type="submit" {{action 'cancelAreaAction' 'new' }}>
                    {{!-- <span class="btn__icon icon-x"></span> --}}
                    <span class="btn__label">Cancelar</span>
                  </button>
                  <button class="j-areaFocus btn btn--xxs bg-info-60" type="submit" {{action 'addArea' }} style="width: 90px;">
                    <span class="btn__icon icon-check"></span>Salvar
                  </button>
                </div>
              </li>

              {{#each inst_selected.plataformaTurmas as |turma|}}
                <li>

                  <div class="flex flex-row flex-1 gap-sm flow-h-sm items-center">
                    <div class="edit-text flex-1">
                      <input class="j-areaFocus edit-text__input title-3"
                             id="areaItemName{{turma.id}}"
                             value="{{turma.name}}">
                      <span class="edit-text__indicator"></span>
                    </div>

                    <div class="flow-h-sm m-left--auto" id="areaItemOptions{{turma.id}}">
                     {{#if (equalstr pessoaLogged.role "admin")}}
                      <button class="j-areaFocus btn btn--xxs btn--text color-error" {{action 'deleteArea' turma.id}}>
                        {{!-- <span class="btn__icon icon-trash-2"></span> --}}
                        <span class="btn__label">Remover</span>
                      </button>
                      {{/if}}
                      <button class="j-areaFocus btn btn--leaf btn--xxs" style="width: 90px;" {{action 'editArea' turma.id}}>
                        {{!-- <span class="btn__icon icon-edit"></span> --}}
                        <span class="btn__label">Editar</span>
                      </button>
                    </div>


                    <div class="flow-h-sm m-left--auto" id="areaItemActions{{turma.id}}" style="display:none">
                      <button class="j-areaFocus j-cancelArea btn btn--xxs btn--text" type="submit" {{action 'cancelAreaAction'
                        turma.id}}>
                        {{!-- <span class="btn__icon icon-x"></span> --}}
                        <span class="btn__label">Cancelar</span>
                      </button>
                      <button class="j-areaFocus btn btn--xxs" style="width: 90px;" type="submit" {{action 'saveArea' turma.id}}>
                        {{!-- <span class="btn__icon icon-check"></span> --}}
                        <span class="btn__label">Salvar</span>
                      </button>
                    </div>

                  </div>

                  <div class="w100">
                    <span>{{turma.plataformaAno.name}}</span><span class="m-h--sm">|</span><em>{{turma.numAlunos}} alunos</em>
                  </div>

                </li>
              {{/each}}
            </ul>
          </section>
        {{/if}}
        <!-- ###########
        Mínimo deve colocar conteúdo novo para essa área
        ########### -->
        <!-- /selected institutions tab areas -->








        <!--
        ######################################
        Usuários
        ######################################
        -->
        <!-- selected institutions tab users -->
        {{#if selectedInstTabs.users}}
          {{outlet}}
        {{/if}}
        <!-- /selected institutions tab users -->
      </section>
    {{/if}}

  {{/if}}


    <!--
        ######################################
        Códigos
        ######################################
        -->
       {{#if selectedInstTabs.codes}}
         <section class="animated d1250 fadeInLeftShort sections__subsection flow-md">
           TESTE
         </section>
       {{/if}}




  <!-- new institution -->
  <aside id="new_inst_modal" class="modal">
    <div class="modal__overlayer"></div>
    <div class="modal__content">
      <header class="modal__header">
        <button class="modal__close btn-close icon-x" type="submit" {{action 'newInstCancel' on="click" }}></button>
        <h3 class="modal__title">Nova Instituição</h3>
        <!-- new institution stepper -->
        <div class="institutions__steps steps">
          <div class="steps__step">
            <div class="steps__label">Informações Básicas</div>
            <div class="steps__number {{if goToStepTwo '' 'steps__number--is-active'}}" {{action 'goTo' '1' }}>1</div>
          </div>
          <div class="steps__step">
            <div class="steps__label">Anos Habilitados</div>
            <div class="steps__number {{if goToStepTwo 'steps__number--is-active' ''}}" {{action 'goTo' '2' }}>2</div>
          </div>
          <div class="steps__step">
            <div class="steps__label">Finalizar</div>
            <div class="steps__number" {{action 'newInstSave' on="click" }}>3</div>
          </div>
        </div>
      </header>
      <div class="modal__body">
        <!-- new institution step 1 -->
        <div class="institutions__step-content {{if goToStepTwo '' 'institutions__step-content--is-show'}}">
          <section class="sections__subsection">
            <h4 class="main__subsubtitle">Básicas</h4>
            <div class="form-group form-group--horizontal form-group--full-width items-start">
              <div class="form-group form-group--aired-h" flex="20">
                <label class="form-group__label">Nome</label>
                <input class="form-group__input" type="textbox" id="new_inst_name" value={{new_inst_name}}>
              </div>
              <div class="form-group form-group--aired-h" flex="20">
                <label class="form-group__label">UF</label>
                <input class="form-group__input" type="textbox" id="new_inst_uf" value={{new_inst_uf}}>
              </div>
              <div class="form-group form-group--aired-h" flex="20">
                <label class="form-group__label">Cidade</label>
                <input class="form-group__input" type="textbox" id="new_inst_cidade" value={{new_inst_cidade}}>
              </div>
              <div class="form-group">
                <label class="form-group__label">Status</label>
                <span class="switch switch--institutions">
                  <input class="switch__checkbox" id="new_inst_enabled" type="checkbox" checked={{new_inst_enabled}}>
                  <label class="switch__label" for="new_inst_enabled">
                    <span class="switch__inner"></span>
                    <span class="switch__head"></span>
                  </label>
                </span>
              </div>
            </div>
            <!-- !!!!!!!!!!!!!!!!!!!!!!!!!!!! -->
            <!-- comentar depois de estilizar -->
            <!-- !!!!!!!!!!!!!!!!!!!!!!!!!!!! -->
            <!--
            <div class="form-group form-group--full-width m-top--md">
              <label class="form-group__label">Marca</label>
              <div class="image-change">
                <span class="image-change__image image-change__image--empty" id="new_inst_uploadPreview"></span>
                <label class="image-change__cta btn btn--ghost btn--xxs" for="new_inst_uploadImage">Buscar imagem
                  <input id="new_inst_uploadImage" type="file" name="myPhoto" {{action 'previewImage' 'new' on="change"}} style="display: none;">
                </label>
                <button class="btn btn--text m-left--md">Redefinir</button>
              </div>
            </div>
            -->
            <!-- !!!!!!!!!!!!!!!!!!!!!!!!!!!! -->
            <!-- !!!!!!!!!!!!!!!!!!!!!!!!!!!! -->
            <!-- !!!!!!!!!!!!!!!!!!!!!!!!!!!! -->
          </section>
          <section class="sections__subsection">
            <h4 class="main__subsubtitle">Número de usuários</h4>
            <div class="flex flex-row flex-wrap gap-sm flow-h-sm">
              <div class="form-group" flex="20">
                <label class="form-group__label" for="new_inst_nrgest">Gestores</label>
                <input class="form-group__input" type="textbox" id="new_inst_nrgest" value={{new_inst_nrgest}}>
              </div>
              <div class="form-group" flex="20">
                <label class="form-group__label" for="new_inst_nrcoord">Coordenadores</label>
                <input class="form-group__input" type="textbox" id="new_inst_nrcoord" value={{new_inst_nrcoord}}>
              </div>
              <div class="form-group" flex="20">
                <label class="form-group__label" for="new_inst_nrinstr">Professores</label>
                <input class="form-group__input" type="textbox" id="new_inst_nrinstr" value={{new_inst_nrinstr}}>
              </div>
              <div class="form-group" flex="20">
                <label class="form-group__label" for="new_inst_nralunos">Alunos</label>
                <input class="form-group__input" type="textbox" id="new_inst_nralunos" value={{new_inst_nralunos}}>
              </div>
            </div>
          </section>
          <section class="sections__subsection">
            <h4 class="main__subsubtitle">Código de cadastro</h4>
            <div class="flex flex-row flex-wrap gap-sm flow-h-sm">
              <div class="form-group" flex="20">
                <label class="form-group__label" for="new_inst_cdprof">Código Professor</label>
                <input class="form-group__input" type="textbox" id="new_inst_cdprof" value={{new_inst_cdprof}}>
              </div>
              <div class="form-group" flex="20">
                <label class="form-group__label" for="new_inst_cdalun">Código Aluno</label>
                <input class="form-group__input" type="textbox" id="new_inst_cdalun" value={{new_inst_cdalun}}>
              </div>
              <div class="form-group" flex="20">
                <label class="form-group__label" for="new_inst_cdresp">Código Responsável</label>
                <input class="form-group__input" type="textbox" id="new_inst_cdresp" value={{new_inst_cdresp}}>
              </div>
            </div>
          </section>
          {{!-- <section class="sections__subsection">
            <h4 class="main__subsubtitle">Recursos extras</h4>
            <div class="checkbox m-bottom--md">
              <input class="checkbox__input" id="new_inst_changePassword" type="checkbox"
                checked={{new_inst_changePassword}}>
              <label class="checkbox__label" for="new_inst_changePassword">Alterar senha no primeiro acesso</label>
            </div>
            <div class="checkbox m-bottom--md">
              <input class="checkbox__input" id="new_inst_library" type="checkbox" checked={{new_inst_library}}>
              <label class="checkbox__label" for="new_inst_library">Biblioteca de materiais</label>
            </div>
          </section> --}}
          <section class="sections__subsection">
            <h4 class="main__subsubtitle">Sistemas</h4>
            <div class="checkbox m-bottom--md">
              <input class="checkbox__input" id="new_sis_1" type="checkbox">
              <label class="checkbox__label" for="new_sis_1">Programa.Semente</label>
            </div>
            <div class="checkbox m-bottom--md">
              <input class="checkbox__input" id="new_sis_2" type="checkbox">
              <label class="checkbox__label" for="new_sis_2">Plataforma S</label>
            </div>
            <div class="checkbox m-bottom--md">
              <input class="checkbox__input" id="new_sis_3" type="checkbox">
              <label class="checkbox__label" for="new_sis_3">CoreSkills</label>
            </div>
          </section>
        </div>
        <!-- new institution step 2 -->
        <div class="institutions__step-content {{if goToStepTwo 'institutions__step-content--is-show' ''}}">
          <ul class="list list--img-name-action list--striped">
            {{#each plataformaAnos as |pa|}}
            <li>
              {{!-- <span class="list__img"
                style="background-image: url('{{if mod.coverImage mod.coverImage '/assets/img/online-course.png'}}')"></span>
              --}}
              <h3 class="list__name title-3">{{pa.name}}</h3>
              <span class="switch switch--institutions">
                <!-- temporary save controll -->
                <input id="isCkb{{pa.id}}" type="checkbox" checked={{isinarray pa inst_selected.plataformaAnos}}
                  style="display:none">
                <!-- -->
                <input class="switch__checkbox" id="ckb_new_{{pa.id}}" type="checkbox">
                <label class="switch__label" for="ckb_new_{{pa.id}}">
                  <span class="switch__inner"></span>
                  <span class="switch__head"></span>
                </label>
              </span>
            </li>
            {{/each}}
          </ul>
        </div>
      </div>
    </div>
  </aside>
</div>





<!-- administration users modal -->
<aside class="alert-container">

  <!-- CONFIRMATION || LIST -->
  <div id="staticAlertAdm" class="alert alert--x bg-blue-navy-50 color-white alert--has-interaction">

    <div class="flex flex-col flow-lg flex-1">
      <div class="flow-xs">
        <h2 class="title-3">{{alertTitle}}</h2>
        <p>{{alertDesc}}</p>
      </div>
      <p class="p--md bg-blue-navy-60 title-4 ta-c tt-u">{{staticTxt2}}</p>
    </div>

    <div class="alert__footer">
      <!-- area to delete -->
      {{#if (equalstr staticType 'area')}}
      <button class="btn btn--text-inverted"
              {{action staticAlert 'close' }}>
        <span class="btn__label">Cancelar</span>
      </button>
      <button class="btn bg-blue-navy-0 color-blue-navy-60"
              {{action 'actionConfirmation' areaToDelete}}>
        {{!-- <span class="btn__icon icon-trash-2"></span> --}}
        <span class="btn__label">Sim, desejo remover</span>
      </button>
      {{/if}}
      <!-- -->
    </div>
  </div>

{{redirectToTurmas}}

  <!-- LOADING || SUCCESS || ERROR -->
  <div id="timeoutAlertAdm" class="alert alert--x bg-blue-navy-50 color-white alert--has-icon alert--no-interaction">
    {{#if (equalstr timeoutIcon 'load')}}<span class="alert__icon icon-reload icon--lg"></span>{{/if}}
    {{#if (equalstr timeoutIcon 'error')}}<span class="alert__icon icon-x icon--lg"></span>{{/if}}
    {{#if (equalstr timeoutIcon 'success')}}<span class="alert__icon icon-check icon--lg"></span>{{/if}}
    <div style="max-width: 80%;"><strong>{{timeoutTxt}}</strong></div>
  </div>

</aside>



<aside id="codigo_modal" class="modal">
  <div class="modal__overlayer"></div>
  <div class="modal__content">
    <div class="modal__header">
      <button class="modal__close btn-close icon-x" type="submit" {{action 'cancelCodigo'}}></button>
      <h3 class="modal__title">Cadastro Código</h3>
    </div>
    <div class="modal__body modal__body--inside-scroll inside-scroll">
      <div class="inside-scroll__fixed">
        <p>Através da opção abaixo, busque o arquivo de carga em seu computador que contém as informações dos pedidos
          a serem cadastrados no sistema</p>
        <div class="institutions__mass-enroll institutions__btn-group flow-h-sm">
          <button class="btn btn-primary" type="submit" {{action 'baixarTemplateCodigo'}}>Baixar template</button>

          <label class="btn label_get_lote" for="get_lote">Buscar arquivo</label>
          <input id="get_lote" multiple="false" onchange={{action "buscarArquivoCodigo"}} accept="text/csv" type="file"
            style="display: none;" />

          {{#if selected_file}}
            <button class="btn btn-primary" type="submit" {{action 'importarCodigo'}}>Importar</button>
          {{else}}
            <button class="btn btn-primary btn--disabled" type="submit" disabled>Importar</button>
          {{/if}}

          <div>
            <i class="fa fa-spinner fa-pulse fa-3x fa-fw" style="display: none" id="spinner-importar-lote"></i>
          </div>
        </div>
      </div>

      <div class="inside-scroll__scroll">
        {{#if selected_file}}
          <div class="institutions__attached-file alert alert--sm alert--has-icon">
            <span class="alert__icon icon-paperclip"></span>
            <span class="institutions__attached-label">Arquivo selecionado: </span>
            <strong>{{selected_file}}</strong>
          </div>
        {{/if}}
        {{#if error_lote}}
          <p>1- {{error_lote}}</p>
        {{/if}}
        {{#if wait_lote}}
          <p>Um momento...</p>
        {{else if erro_lista}}
          <p>2- {{erro_lista}}</p>
        {{else}}
          <table class="table table--striped table--mass-enroll">
            <thead class="thead-dark">
              <tr>
                <th class="table__enroller" scope="col">Cadastrador</th>
                <th class="table__file" scope="col">Arquivo</th>
                <th class="table__import" scope="col">Importação</th>
                <th class="table__status" scope="col">Status</th>
                <th class="table__users" scope="col">Códigos</th>
                <th class="table__processed" scope="col">Processados</th>
                <th class="table__not-processed" scope="col">Não Processados</th>
                <th class="table__log" scope="col">Log</th>
              </tr>
            </thead>
            <tbody class="gersistema-user-list-box">
              {{#each lista_lote as |lista|}}
                <tr>
                  <td class="table__enroller">
                    {{lista.pessoaNome}}
                  </td>
                  <td class="table__file">{{lista.nomeArquivo}}</td>
                  <td class="table__import">{{lista.data}}</td>
                  <td class="table__status">{{lista.status}}</td>
                  <td class="table__users">{{lista.quantidadeDeCodigos}}</td>
                  <td class="table__processed">{{lista.codigosProcessados}}</td>
                  <td class="table__not-processed">{{lista.codigosNaoProcessados}}</td>
                  <td class="table__log">
                    {{#if lista.link}}
                      <a href={{lista.link}}>
                        <i class="icon-file-text"></i>
                      </a>
                    {{else}}
                      <i class="fa fa-times-o"></i>
                    {{/if}}
                  </td>
                </tr>
              {{/each}}
            </tbody>
          </table>
        {{/if}}
      </div>
    </div>
  </div>
  <div class="modal__footer">
    <button class="btn btn-primary" type="submit" {{action 'cancelCodigo'}}>Fechar</button>
  </div>
</aside>
